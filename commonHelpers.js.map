{"version":3,"file":"commonHelpers.js","sources":["../src/img/svg/error.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","import izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport errorIcon from './img/svg/error.svg';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchingForm = document.querySelector('.searching-form');\nconst searchBtn = document.querySelector('.search-btn');\nconst gallery = document.querySelector('.gallery');\nconst container = document.querySelector('.container');\nconst errorOptions = {\n  title: '',\n  iconUrl: `${errorIcon}`,\n  backgroundColor: '#EF4040',\n  titleColor: '#fff',\n  messageColor: '#fff',\n  theme: 'dark',\n  messageSize: '16px',\n  progressBarColor: '#B5EA7C',\n  position: 'topRight',\n};\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  className: 'lightbox-on',\n});\nlet page = 1;\n\nsearchingForm.addEventListener('submit', requestImages);\n\n// =================== Функція запиту на сервер ===================\n\nfunction requestImages(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  page = 1;\n  addLoading();\n  const searchTitle = event.currentTarget.elements.searching.value.trim();\n  // ======= encodeURIComponent(searchTitle) гарантує, що символи будуть правильно закодовані для URL ===================\n  const serchingRequest = encodeURIComponent(searchTitle);\n  console.log(serchingRequest);\n  const searchingOptions = new URLSearchParams({\n    key: '41547319-253ef689baf3db6007ef0d5b5',\n    q: `${serchingRequest}`,\n    orientation: 'horizontal',\n    per_page: 40,\n    page: `${page}`,\n    image_type: 'photo',\n    safesearch: true,\n  });\n  fetch(`https://pixabay.com/api/?${searchingOptions}`)\n    .then(response => {\n      return response.json();\n    })\n    .then(api => {\n      const imagesArray = api.hits;\n      if (imagesArray.length === 0) {\n        throw new Error(\n          `There are no images matching your search query. Please try again!`\n        );\n      }\n      galleryCreation(imagesArray);\n      removeLoading();\n    })\n    .catch(error => {\n      console.log(error);\n      izitoast.error(\n        errorOptions,\n        (errorOptions.message = `Sorry! ${error.message}`)\n      );\n      removeLoading();\n    });\n}\n\n// =================== Функція створення галереї ===================\n\nfunction galleryCreation(imagesArray) {\n  const markup = imagesArray\n    .toSorted((a, b) => b.likes - a.likes)\n    .map(image => {\n      return `<li class=\"gallery-item\"><div class='image-wrapper'>\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n      width=\"360\"\n      height=\"200\"\n    />\n    </a>\n    <div class=\"gallery-item-description\">\n<ul class='gallery-item-description-list'>\n<li class='description-list-item'>\n<p class='description'>Likes</p>\n<p class='quantity'>${image.likes}</p>\n</li>\n<li class='description-list-item'>\n<p class='description'>Views</p>\n<p class='quantity'>${image.views}</p>\n</li>\n<li class='description-list-item'>\n<p class='description'>Comments</p>\n<p class='quantity'>${image.comments}</p>\n</li>\n<li class='description-list-item'>\n<p class='description'>Downloads</p>\n<p class='quantity'>${image.downloads}</p>\n</li>\n</ul>\n    </div>\n    </div>\n</li>`;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n// =================== Функція додавання спінера, стилю search-btn-disabled, змінення стану кнопки на відключено ===================\n\nfunction addLoading() {\n  container.insertAdjacentHTML('afterbegin', '<span class=\"loader\"></span>');\n  searchBtn.disabled = true;\n  searchBtn.classList.add('search-btn-disabled');\n}\n\n// =================== Функція видалення спінера, стилю search-btn-disabled, змінення стану кнопки на включено, обнулення форми ===================\n\nfunction removeLoading() {\n  const loader = document.querySelector('.loader');\n  loader.remove();\n  searchBtn.disabled = false;\n  searchBtn.classList.remove('search-btn-disabled');\n  searchingForm.reset();\n}\n"],"names":["errorIcon","searchingForm","searchBtn","gallery","container","errorOptions","lightbox","SimpleLightbox","page","requestImages","event","addLoading","searchTitle","serchingRequest","searchingOptions","response","api","imagesArray","galleryCreation","removeLoading","error","izitoast","markup","a","b","image"],"mappings":"6vBAAA,MAAeA,EAAA,2CCMTC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAe,CACnB,MAAO,GACP,QAAS,GAAGL,IACZ,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,OACP,YAAa,OACb,iBAAkB,UAClB,SAAU,UACZ,EACA,IAAIM,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,UAAW,aACb,CAAC,EACGC,EAAO,EAEXP,EAAc,iBAAiB,SAAUQ,CAAa,EAItD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpBP,EAAQ,UAAY,GACpBK,EAAO,EACPG,IACA,MAAMC,EAAcF,EAAM,cAAc,SAAS,UAAU,MAAM,OAE3DG,EAAkB,mBAAmBD,CAAW,EACtD,QAAQ,IAAIC,CAAe,EAC3B,MAAMC,EAAmB,IAAI,gBAAgB,CAC3C,IAAK,qCACL,EAAG,GAAGD,IACN,YAAa,aACb,SAAU,GACV,KAAM,GAAGL,IACT,WAAY,QACZ,WAAY,EAChB,CAAG,EACD,MAAM,4BAA4BM,GAAkB,EACjD,KAAKC,GACGA,EAAS,MACjB,EACA,KAAKC,GAAO,CACX,MAAMC,EAAcD,EAAI,KACxB,GAAIC,EAAY,SAAW,EACzB,MAAM,IAAI,MACR,mEACV,EAEMC,EAAgBD,CAAW,EAC3BE,GACN,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MACPhB,EACCA,EAAa,QAAU,UAAUe,EAAM,SAChD,EACMD,GACN,CAAK,CACL,CAIA,SAASD,EAAgBD,EAAa,CACpC,MAAMK,EAASL,EACZ,SAAS,CAACM,EAAGC,IAAMA,EAAE,MAAQD,EAAE,KAAK,EACpC,IAAIE,GACI;AAAA,kCACqBA,EAAM;AAAA;AAAA;AAAA,aAG3BA,EAAM;AAAA,aACNA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASGA,EAAM;AAAA;AAAA;AAAA;AAAA,sBAINA,EAAM;AAAA;AAAA;AAAA;AAAA,sBAINA,EAAM;AAAA;AAAA;AAAA;AAAA,sBAINA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,MAMvB,EACA,KAAK,EAAE,EACVtB,EAAQ,mBAAmB,YAAamB,CAAM,EAC9ChB,EAAS,QAAO,CAClB,CAGA,SAASK,GAAa,CACpBP,EAAU,mBAAmB,aAAc,8BAA8B,EACzEF,EAAU,SAAW,GACrBA,EAAU,UAAU,IAAI,qBAAqB,CAC/C,CAIA,SAASiB,GAAgB,CACR,SAAS,cAAc,SAAS,EACxC,OAAM,EACbjB,EAAU,SAAW,GACrBA,EAAU,UAAU,OAAO,qBAAqB,EAChDD,EAAc,MAAK,CACrB"}